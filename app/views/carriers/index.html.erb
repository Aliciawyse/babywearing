<% if flash[:success] %>
  <div><%= flash[:success] %></div>
<% end %>

<h1>Carriers</h1>

<% if @carriers.present? %>
  <div>
    <%= label_tag "by Location" %>
      <%= select_tag "filters[location]", options_for_select(@carriers, @location_name), { include_blank: true, class: "form-control" } %>
  </div>
<% end %>

<% @carriers.each_slice(4) do |carriers| %>
  <div class="row mb-2">
    <% carriers.each do |carrier| %>
      <div class="col-md-3">
        <div class="card">
          <% if carrier.photos.attached? %>
            <%= link_to carrier do %>
              <%= image_tag(carrier.photos.first.variant(resize: "200x300").processed, class: "img-thumbnail img-fluid") %>
            <% end %>
          <% else %>
            <%= link_to carrier do %>
              <%= image_tag("img_placeholder.svg", class: "img-thumbnail img-fluid h-100") %>
            <% end %>
          <% end %>
          <div class="card-body">
            <p><%= link_to carrier.name, carrier, class: "card-text" %></p>
            <p class="card-text"><%= carrier.location.name %></p>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
